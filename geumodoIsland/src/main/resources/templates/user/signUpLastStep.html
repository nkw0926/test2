<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
  	integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" 
  	crossorigin="anonymous" 
  	referrerpolicy="no-referrer" />
  	
  	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" 
  	integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" 
  	crossorigin="anonymous">
    
    <title>금오도</title>
	
	<link rel="stylesheet" th:href="@{/css/signUp-style.css}">
</head> 
<body>
	<div class="container d-flex justify-content-center align-items-center min-vh-100">
        <div class="row border rounded-5 p-3 bg-white shadow box-area" style="width:1000px">
            <div class="col-md-6 rounded-4 d-flex justify-content-center align-items-center flex-column left-box" style="background: url('/assets/img/윤상영.jpg'); background-position: center; background-size: cover;">
                <p class="fs-2" style="font-weight: 700; color:white; margin-top:250px">윤상영</p>
                <small class="text-wrap text-center text-white">헤이 위비위비 바우와우 쓰껄~~</small>
            </div>
            <div class="col-md-6 right-box">
              <form id="saveForm" th:action="@{/user/signup/laststep}" method="post" autocomplete="off" enctype="multipart/form-data">
                <div class="row align-items-center">
                    <div class="header-text mb-2">
                        <h2>회원가입</h2>
                        <p>(5단계/5단계)</p>
                        <p>사랑찾아 인생을 찾아 금오도에 오신걸 환영합니다</p>
                    </div>
                </div>
                <p style="font-weight:bold;">프로필 이미지를 등록해주세요 (2개 이상)</p>
				<div class="file_list" style="text-align: center; margin-bottom:10px">
			        <div class="col d-flex">
			           <div class="file_input">
			               <label>
			               	<input id="input-image" type="file" name="files" class="form-control" onchange="setDetailImage(event);" multiple required/>
			               </label>
			           </div>
			        </div>
		         </div>
		         <div id="images_container"></div>
		         <div style="font-size:15px; font-weight:bold; color:red; margin-top:10px;">[[${message}]]</div>	  
		         <div class="input-group mt-4">
                        <div class="btn btn-lg btn-primary w-100 fs-6 fw-bold">
                        	<a th:href="@{/user/signup/fourthstep}" style="color:white; text-decoration: none;">이전 단계로</a>
                        </div>
                 </div>
                 <div class="input-group mt-2">
                    <button class="btn btn-lg btn-primary w-100 fs-6 fw-bold" type="submit">회원가입완료!</button>
                 </div>     
               </form>
            </div>
        </div>
    </div>	
</body>
<script type="text/javascript">
	function setDetailImage(event){
		for(var image of event.target.files){
			var reader = new FileReader();
			
			reader.onload = function(event){
				var img = document.createElement("img");
				img.setAttribute("src", event.target.result);
				img.setAttribute("class", "col-lg-6");
				document.querySelector("div#images_container").appendChild(img);
			};
			
			console.log(image);
			reader.readAsDataURL(image);
		}
	}	
</script>
</html>